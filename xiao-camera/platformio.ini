; XIAO ESP32-S3 Sense - Camera + Microphone Module
; For FluidCNC machine monitoring and optional chatter detection supplement

[env:xiao_esp32s3]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi

; Enable PSRAM for camera buffers
build_flags = 
    -DBOARD_HAS_PSRAM
    -DCONFIG_SPIRAM_CACHE_WORKAROUND
    -DCONFIG_SPIRAM_USE_MALLOC
    ; Camera pins for XIAO ESP32-S3 Sense
    -DCAMERA_MODEL_XIAO_ESP32S3
    ; Optimize
    -O2

monitor_speed = 115200
upload_speed = 921600

lib_deps =
    ESP Async WebServer
    AsyncTCP
    ArduinoJson
